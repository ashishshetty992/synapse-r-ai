{
  "title": "Orders: revenue compare (this vs last month)",
  "entity": "orders",
  "intent": {
    "ask": "compare",
    "metric": {
      "op": "sum",
      "target": "orders.total_amount"
    }
  },
  "iql": {
    "ask": "compare",
    "metric": {
      "op": "sum",
      "target": "orders.total_amount"
    },
    "comparePeriods": [
      {
        "type": "relative",
        "period": "this_month"
      },
      {
        "type": "relative",
        "period": "last_month"
      }
    ],
    "where": [
      {
        "op": "is_not_null",
        "field": "orders.created_at"
      }
    ]
  }
}